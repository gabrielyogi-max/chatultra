<!DOCTYPE html>
<html lang="pt-br" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS // ULTRA</title>
    
    <!-- DependÃªncias: Markdown & Syntax Highlight -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- Fontes Sci-Fi: Orbitron (TÃ­tulos), Rajdhani (Texto), JetBrains Mono (CÃ³digo) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS com ConfiguraÃ§Ã£o Neon -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        neonCyan: '#00f3ff',
                        neonPurple: '#bc13fe',
                        bgDeep: '#020205',
                        glass: 'rgba(10, 10, 16, 0.6)',
                    },
                    fontFamily: {
                        header: ['Orbitron', 'sans-serif'],
                        body: ['Rajdhani', 'sans-serif'],
                        code: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'pulse-glow': 'pulseGlow 2s infinite',
                    }
                }
            }
        }
    </script>
    
    <!-- CSS Customizado (Scanlines, Glitch, etc) -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-bgDeep text-white h-full overflow-hidden antialiased selection:bg-neonCyan selection:text-black">

<!-- --- EFEITOS VISUAIS DE FUNDO --- -->
<div class="screen-overlay"></div>
<div class="scanlines"></div>
<div class="stars"></div>

<!-- --- ÃCONES SVG (Carregados ocultos para uso via ID) --- -->
<svg style="display: none;">
    <symbol id="icon-cpu" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></symbol>
    <symbol id="icon-download" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></symbol>
    <symbol id="icon-trash" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></symbol>
    <symbol id="icon-volume-2" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/></symbol>
    <symbol id="icon-volume-x" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/></symbol>
    <symbol id="icon-paperclip" viewBox="0 0 24 24"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></symbol>
    <symbol id="icon-mic" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></symbol>
    <symbol id="icon-copy" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></symbol>
    <symbol id="icon-send" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></symbol>
    <symbol id="icon-check" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol>
    <symbol id="icon-chevron-down" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></symbol>
</svg>

<!-- --- MAIN CONTAINER (Moldura do Terminal) --- -->
<div class="relative z-10 w-full h-full md:w-[98%] md:max-w-[1800px] md:h-[96vh] md:rounded-lg flex flex-col overflow-hidden main-terminal-border shadow-[0_0_50px_rgba(0,243,255,0.15)] bg-black/80 backdrop-blur-md">
    
    <!-- 1. HEADER -->
    <header class="h-20 px-8 flex items-center justify-between border-b border-neonCyan/20 bg-neonCyan/5 shrink-0 z-20 relative overflow-hidden">
        <!-- Linha Decorativa Superior -->
        <div class="absolute top-0 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-neonCyan to-transparent opacity-50"></div>

        <!-- Logo -->
        <div class="flex items-center gap-5">
            <div class="w-12 h-12 rounded bg-bgDeep border border-neonCyan flex items-center justify-center shadow-[0_0_15px_rgba(0,243,255,0.3)] relative group">
                <div class="absolute inset-0 bg-neonCyan/20 animate-pulse"></div>
                <svg class="w-6 h-6 stroke-neonCyan relative z-10"><use href="#icon-cpu"/></svg>
            </div>
            <div class="flex flex-col">
                <h1 class="font-header font-black text-2xl tracking-widest text-white glitch-text" data-text="NEXUS">NEXUS</h1>
                <span class="text-[0.6rem] tracking-[0.4em] text-neonCyan font-code uppercase">System v2.5 // Online</span>
            </div>
        </div>
        
        <!-- Status Badge -->
        <div class="hidden md:flex items-center gap-3 px-4 py-2 bg-black/50 border border-neonCyan/30 rounded skew-x-[-10deg]">
            <div class="w-2 h-2 bg-neonCyan rounded-full shadow-[0_0_10px_#00f3ff] animate-pulse"></div>
            <span class="text-xs font-header text-neonCyan skew-x-[10deg] tracking-wider">SECURE CONNECTION</span>
        </div>
    </header>

    <!-- 2. TOOLBAR (Controles e SeleÃ§Ã£o de IA) -->
    <div class="px-8 py-4 flex gap-4 items-center justify-between border-b border-white/5 bg-black/20 shrink-0 z-50">
        
        <!-- Dropdown Cyberpunk -->
        <div class="relative w-full max-w-sm font-code" id="customDropdown">
            <!-- Select Oculto (Usado pela lÃ³gica do JS) -->
            <select id="modelSelector" class="hidden">
                <!-- Cluster 1: Google -->
                <option value="Cluster1|âœ¨ Google: Gemini 2.5 Flash Lite âš¡">Gemini 2.5 Flash Lite</option>
                <option value="Cluster1|âœ¨ Google: Gemini 3.0 Pro (Experimental)">Gemini 3.0 Pro</option>
                <option value="Cluster1|âœ¨ Google: Gemini 2.5 Pro">Gemini 2.5 Pro</option>
                <option value="Cluster1|âœ¨ Google: Gemini 2.5 Flash">Gemini 2.5 Flash</option>
                <option value="Cluster1|âœ¨ Google: Gemini 2.0 Flash">Gemini 2.0 Flash</option>
                <!-- Cluster 1: Mistral -->
                <option value="Cluster1|ðŸ‡«ðŸ‡· Mistral: Magistral Medium 2509">Mistral Medium</option>
                <option value="Cluster1|ðŸ‡«ðŸ‡· Mistral: Pixtral Large (Vision) ðŸ–¼ï¸">Pixtral Large (Vision)</option>
                <option value="Cluster1|ðŸ‡«ðŸ‡· Mistral: Large 2512 (Dez/25)">Mistral Large 2512</option>
                <option value="Cluster1|ðŸ‡«ðŸ‡· Mistral: Codestral 2508">Mistral Codestral</option>
                <!-- Cluster 1: Groq -->
                <option value="Cluster1|â˜ï¸ Groq: Llama 3.3 70B">Llama 3.3 70B</option>
                <option value="Cluster1|â˜ï¸ Groq: GPT OSS 120B (OpenAI)">GPT OSS 120B</option>
                <option value="Cluster1|â˜ï¸ Groq: GPT OSS 20B (OpenAI)">GPT OSS 20B</option>
                <!-- Cluster 1: Local -->
                <option value="Cluster1|ðŸ”¥ Local H200: Qwen 2.5 Coder 32B">Local: Qwen 2.5 Coder</option>
                <!-- Cluster 2: DeepSeek & Qwen -->
                <option value="Cluster2|ðŸš€ DeepSeek R1 Distill Qwen 7B (O Mais Inteligente - Novo!)">DeepSeek R1 (Reasoning)</option>
                <option value="Cluster2|ðŸ³ DeepSeek Math 7B (Especialista Antigo)">DeepSeek Math</option>
                <option value="Cluster2|ðŸ§ª Qwen 3 4B Instruct (Experimental)">Qwen 3 (Experimental)</option>
                <option value="Cluster2|ðŸŒŸ Qwen 2.5 7B Instruct (ClÃ¡ssico e EstÃ¡vel)">Qwen 2.5 7B</option>
            </select>

            <!-- BotÃ£o VisÃ­vel do Dropdown -->
            <div onclick="toggleDropdown()" class="dropdown-trigger flex items-center justify-between w-full pl-4 pr-3 py-2 bg-black/60 border border-neonCyan/30 rounded text-sm text-neonCyan hover:bg-neonCyan/10 hover:border-neonCyan hover:shadow-[0_0_15px_rgba(0,243,255,0.2)] transition-all cursor-pointer">
                <div class="flex items-center gap-3">
                    <div class="w-2 h-2 bg-neonCyan rotate-45"></div>
                    <span id="selectedModelLabel" class="truncate font-header tracking-wide text-xs md:text-sm">Gemini 2.5 Flash Lite</span>
                </div>
                <svg class="w-4 h-4 text-neonCyan/50"><use href="#icon-chevron-down"/></svg>
            </div>

            <!-- Lista de OpÃ§Ãµes do Menu -->
            <div id="dropdownMenu" class="dropdown-menu absolute top-full left-0 w-full mt-2 bg-[#050508] border border-neonCyan/30 rounded shadow-[0_0_30px_rgba(0,0,0,0.9)] overflow-hidden z-[100] max-h-[500px] overflow-y-auto cyber-scrollbar">
                
                <div class="px-3 py-2 text-[0.6rem] font-bold text-neonPurple uppercase tracking-widest border-b border-white/5 bg-white/[0.02]">Google // Visual Core</div>
                <div onclick="selectModel('Cluster1|âœ¨ Google: Gemini 2.5 Flash Lite âš¡', 'Gemini 2.5 Flash Lite')" class="cyber-item">Gemini 2.5 Flash Lite</div>
                <div onclick="selectModel('Cluster1|âœ¨ Google: Gemini 3.0 Pro (Experimental)', 'Gemini 3.0 Pro')" class="cyber-item">Gemini 3.0 Pro (Exp)</div>
                <div onclick="selectModel('Cluster1|âœ¨ Google: Gemini 2.5 Pro', 'Gemini 2.5 Pro')" class="cyber-item">Gemini 2.5 Pro</div>
                <div onclick="selectModel('Cluster1|âœ¨ Google: Gemini 2.5 Flash', 'Gemini 2.5 Flash')" class="cyber-item">Gemini 2.5 Flash</div>

                <div class="px-3 py-2 text-[0.6rem] font-bold text-neonPurple uppercase tracking-widest border-b border-white/5 bg-white/[0.02] mt-1">Logic & Reasoning</div>
                <div onclick="selectModel('Cluster2|ðŸš€ DeepSeek R1 Distill Qwen 7B (O Mais Inteligente - Novo!)', 'DeepSeek R1 (Reasoning)')" class="cyber-item">DeepSeek R1 (Reasoning)</div>
                <div onclick="selectModel('Cluster2|ðŸ³ DeepSeek Math 7B (Especialista Antigo)', 'DeepSeek Math')" class="cyber-item">DeepSeek Math</div>

                <div class="px-3 py-2 text-[0.6rem] font-bold text-neonPurple uppercase tracking-widest border-b border-white/5 bg-white/[0.02] mt-1">Mistral AI</div>
                <div onclick="selectModel('Cluster1|ðŸ‡«ðŸ‡· Mistral: Pixtral Large (Vision) ðŸ–¼ï¸', 'Pixtral Large (Vision)')" class="cyber-item">Pixtral Large (Vision)</div>
                <div onclick="selectModel('Cluster1|ðŸ‡«ðŸ‡· Mistral: Codestral 2508', 'Mistral Codestral')" class="cyber-item">Mistral Codestral</div>

                <div class="px-3 py-2 text-[0.6rem] font-bold text-neonPurple uppercase tracking-widest border-b border-white/5 bg-white/[0.02] mt-1">Groq & Speed</div>
                <div onclick="selectModel('Cluster1|â˜ï¸ Groq: Llama 3.3 70B', 'Llama 3.3 70B')" class="cyber-item">Llama 3.3 70B</div>
                <div onclick="selectModel('Cluster1|â˜ï¸ Groq: GPT OSS 120B (OpenAI)', 'GPT OSS 120B')" class="cyber-item">GPT OSS 120B</div>

                <div class="px-3 py-2 text-[0.6rem] font-bold text-red-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02] mt-1">Local Hardware</div>
                <div onclick="selectModel('Cluster1|ðŸ”¥ Local H200: Qwen 2.5 Coder 32B', 'Local: Qwen 2.5 Coder')" class="cyber-item" style="color:#f87171">Local H200 (Qwen Coder)</div>
            </div>
        </div>

        <!-- BotÃµes de AÃ§Ã£o RÃ¡pida -->
        <div class="flex items-center gap-3">
            <button onclick="toggleSound()" id="soundBtn" class="cyber-icon-btn" title="Sound Effects">
                <svg class="w-4 h-4 stroke-current"><use href="#icon-volume-2" id="sndIconUse"/></svg>
            </button>
            <button onclick="exportChat()" class="cyber-icon-btn" title="Export">
                <svg class="w-4 h-4 stroke-current"><use href="#icon-download"/></svg>
            </button>
            <button onclick="clearChat()" class="cyber-icon-btn danger" title="Clear">
                <svg class="w-4 h-4 stroke-current"><use href="#icon-trash"/></svg>
            </button>
        </div>
    </div>

    <!-- 3. ÃREA DE CHAT (As mensagens sÃ£o inseridas aqui) -->
    <div id="chat-history" class="flex-1 overflow-y-auto px-4 md:px-8 py-8 flex flex-col gap-6 scroll-smooth cyber-scrollbar relative z-10">
        <!-- JS insere mensagens aqui -->
    </div>

    <!-- 4. FOOTER (Input e Comandos) -->
    <div class="relative z-20 shrink-0 pb-6 pt-2 px-4 md:px-8">
        <div class="w-full max-w-5xl mx-auto">
            <div class="bg-black/40 border border-neonCyan/30 rounded-lg p-2 backdrop-blur-md shadow-[0_0_20px_rgba(0,0,0,0.5)] relative group focus-within:border-neonCyan focus-within:shadow-[0_0_25px_rgba(0,243,255,0.2)] transition-all">
                
                <!-- Cantoneiras Decorativas (Estilo HUD) -->
                <div class="absolute top-0 left-0 w-2 h-2 border-l border-t border-neonCyan"></div>
                <div class="absolute top-0 right-0 w-2 h-2 border-r border-t border-neonCyan"></div>
                <div class="absolute bottom-0 left-0 w-2 h-2 border-l border-b border-neonCyan"></div>
                <div class="absolute bottom-0 right-0 w-2 h-2 border-r border-b border-neonCyan"></div>

                <!-- Preview de Imagem Anexada -->
                <div id="imagePreviewContainer" class="hidden px-4 py-3 border-b border-neonCyan/20 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <img id="imagePreview" alt="Preview" class="h-10 w-10 object-cover rounded border border-neonCyan/50">
                        <span id="imageName" class="text-xs text-neonCyan font-code">file.png</span>
                    </div>
                    <button onclick="clearImage()" class="text-neonPurple hover:text-white"><svg class="w-4 h-4"><use href="#icon-trash"/></svg></button>
                </div>

                <!-- Barra de Controle e Input -->
                <div class="flex items-end gap-3 p-1">
                    <input type="file" id="fileInput" accept="image/*" class="hidden" onchange="handleFileSelect(event)">
                    
                    <!-- BotÃ£o Anexar -->
                    <button class="w-10 h-10 flex items-center justify-center text-neonCyan/70 hover:text-neonCyan hover:bg-neonCyan/10 transition-all rounded" onclick="document.getElementById('fileInput').click()" title="Upload Image">
                        <svg class="w-5 h-5 stroke-current"><use href="#icon-paperclip"/></svg>
                    </button>

                    <!-- Ãrea de Texto -->
                    <textarea id="userInput" placeholder="COMMANDER: Awaiting Input..." onkeypress="handleEnter(event)" rows="1" class="w-full bg-transparent border-0 text-white placeholder-neonCyan/30 focus:ring-0 py-2.5 px-2 text-base font-body resize-none max-h-[200px] leading-relaxed"></textarea>

                    <!-- BotÃ£o Microfone -->
                    <button id="micBtn" onclick="toggleVoice()" class="w-10 h-10 flex items-center justify-center text-neonCyan/70 hover:text-neonPurple hover:bg-neonPurple/10 transition-all rounded" title="Voice Command">
                        <svg class="w-5 h-5 stroke-current"><use href="#icon-mic"/></svg>
                    </button>

                    <!-- BotÃ£o Enviar -->
                    <button id="sendBtn" class="h-10 px-6 bg-neonCyan/10 border border-neonCyan/50 hover:bg-neonCyan hover:text-black text-neonCyan font-header font-bold tracking-wider rounded transition-all duration-300 shadow-[0_0_10px_rgba(0,243,255,0.1)] hover:shadow-[0_0_20px_rgba(0,243,255,0.6)] flex items-center gap-2" onclick="sendMessage()">
                        <span>ENGAGE</span>
                        <svg class="w-3.5 h-3.5 stroke-current fill-none"><use href="#icon-send"/></svg>
                    </button>
                </div>
            </div>
            
            <!-- Dados TÃ©cnicos FictÃ­cios (RodapÃ©) -->
            <div class="text-center mt-3 flex justify-center gap-4 text-[0.6rem] text-neonCyan/40 font-code uppercase tracking-widest">
                <span>Memory: 64TB</span>
                <span>Latency: 12ms</span>
                <span>Encryption: AES-256</span>
            </div>
        </div>
    </div>
</div>

<!-- LÃ³gica do JS -->
<script type="module" src="script.js"></script>

</body>
</html>
